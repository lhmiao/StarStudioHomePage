webpackJsonp([1],{"+EHL":function(t,e){},"0UoQ":function(t,e){},"0n4b":function(t,e){},"2Fq+":function(t,e){},CcsV:function(t,e){},MhAF:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("MVMM"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=n("vSla")({name:"App"},s,!1,function(t){n("lRIm")},null,null).exports,o=n("zO6J"),r=n("Yarq"),c=n.n(r),l=n("AA3o"),u=n.n(l),d=n("xSur"),f=n.n(d),h=n("UzKs"),p=n.n(h),m=n("Y7Ml"),v=n.n(m),g=n("rVsN"),_=n.n(g),C=n("aA9S"),w=n.n(C),k=n("aozt"),b=n.n(k),y=n("6iV/"),$=n.n(y),T={baseURL:"/api/v1",timeout:1e5},x=function(){function t(){u()(this,t),this.client=this.getAxiosClient()}return f()(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=w()({},{url:t,params:e,method:"get"});return this.request(n)}},{key:"post",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x-www-form-urlencoded",a=w()({},{url:t,method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"}});return"json"===n?(a.data=e,a.headers["Content-Type"]="application/json"):a.data=$.a.stringify(e),this.request(a)}},{key:"put",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=w()({},{url:t,method:"put",headers:{"Content-Type":""},data:e});return this.request(n)}},{key:"getAxiosClient",value:function(){var t=b.a.create(T);return t.interceptors.response.use(function(t){return""===t.data?"上传文件成功":200!==t.data.sc?_.a.reject(t.data.msg):t.data},function(t){return _.a.reject(t)}),t}},{key:"request",value:function(t){return this.client.request(t)}}]),t}(),I=function(t){function e(){return u()(this,e),p()(this,(e.__proto__||c()(e)).apply(this,arguments))}return v()(e,t),f()(e,[{key:"loginByPassword",value:function(t){return this.post("/user/worker/login",t)}},{key:"logout",value:function(){return this.get("/user/worker/logout")}}]),e}(x),P=new I,L={computed:{hasLogined:function(){return this.$store.state.hasLogined}},methods:{login:function(){this.$router.push("/login")},directToIndex:function(){this.$router.push("/index")},handleCommand:function(t){switch(t){case"workerInfo":this.handleWorkerInfo();break;case"resetPassword":this.handleResetPassword();break;case"logout":this.handleLogout()}},handleWorkerInfo:function(){this.$router.push("/workerInfo")},handleResetPassword:function(){this.$router.push("/resetPassword")},handleLogout:function(){var t=this;P.logout().then(function(){t.$store.commit("logout"),t.$message.success("退出成功"),t.$router.push("/index")}).catch(function(e){t.$message.error("退出失败，系统提示："+e)})}}},S={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"left"},[n("span",{staticClass:"title",on:{click:t.directToIndex}},[t._v("\n      GigaValue\n    ")])]),t._v(" "),n("div",{staticClass:"right"},[t.hasLogined?n("el-dropdown",{on:{command:t.handleCommand}},[n("span",{staticClass:"el-dropdown-link"},[t._v("\n        我的账户"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"logout"}},[t._v("退出登录")])],1)],1):n("div",{staticClass:"login",on:{click:t.login}},[t._v("\n      登录\n    ")])],1)])},staticRenderFns:[]};var B={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-menu",{attrs:{router:"","text-color":"#888888"}},[e("el-menu-item",{attrs:{index:"/index"}},[this._v("首页")]),this._v(" "),e("el-menu-item",{attrs:{index:"/offlineTask"}},[this._v("离线任务")])],1)},staticRenderFns:[]};var F={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"copyright"},[t._v("版权所有©成都智人能工科技有限公司")]),t._v(" "),a("div",{staticClass:"links"},[a("img",{attrs:{src:n("g0FG"),alt:""}}),t._v(" "),a("a",{attrs:{href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=51019002001339",target:"_blank"}},[t._v("川公网安备 51019002001339号")]),t._v(" "),a("span",[t._v(" | ")]),t._v(" "),a("a",{attrs:{href:"http://www.miibeian.gov.cn/",target:"_blank"}},[t._v("蜀ICP备18004702号")])])])}]};var O={beforeCreate:function(){},components:{myHeader:n("vSla")(L,S,!1,function(t){n("CcsV")},"data-v-068fb8dd",null).exports,myAside:n("vSla")({methods:{directToOfflineTask:function(){this.$router.push("/offlineTask")}}},B,!1,function(t){n("MhAF")},null,null).exports,myFooter:n("vSla")({},F,!1,function(t){n("YOTn")},"data-v-8f086728",null).exports}},j={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("header",[e("my-header")],1),this._v(" "),e("div",{staticClass:"middle"},[e("div",{staticClass:"middle-left"},[e("my-aside")],1),this._v(" "),e("div",{staticClass:"middle-right"},[e("router-view")],1)]),this._v(" "),e("footer",[e("my-footer")],1)])},staticRenderFns:[]};var R=n("vSla")(O,j,!1,function(t){n("+EHL")},"data-v-7cddd539",null).exports,E={render:function(){var t=this.$createElement;return(this._self._c||t)("p",[this._v("GigaValue，成就一个极佳的你")])},staticRenderFns:[]};var M=n("vSla")({},E,!1,function(t){n("VFWQ")},"data-v-11c7c22c",null).exports,G=new I,D={data:function(){return{isLoginByCaptcha:!1,register:!1,mobile:"",captcha:"",password:"",waitCaptcha:!1,timeCount:60,timeCountId:"",interval:60,firstGetCaptcha:!0}},computed:{getBtnText:function(){return this.firstGetCaptcha?"发送验证码":"重新发送"}},methods:{directToIndex:function(){this.$router.push("/index")},getCaptcha:function(){var t=this;if(this.mobile&&/^((1[3-9][0-9])+\d{8})$/.test(this.mobile)){this.waitCaptcha=!0,this.firstGetCaptcha=!1,this.$message("验证码已发送，请注意查收");var e={mobile:this.mobile};G.getCaptcha(e).then(function(e){t.interval=e.data.interval,t.timeCount=t.interval}).catch(function(e){t.$message.error("系统提示："+e)}),this.startTimeCount()}else this.$message.error("手机号码有误")},startTimeCount:function(){var t=this;this.timeCountId=setInterval(function(){if(0===t.timeCount)return clearInterval(t.timeCountId),t.waitCaptcha=!1,void(t.timeCount=t.interval);t.timeCount--},1e3)},changeLoginType:function(){this.isLoginByCaptcha=!this.isLoginByCaptcha,this.register=!1},registerWorker:function(){this.register=!0},forgetPassward:function(){this.$router.push("/resetPassword")},LoginByCaptcha:function(){var t=this;if(this.mobile&&/^((1[3-9][0-9])+\d{8})$/.test(this.mobile))if(/\d{6}/.test(this.captcha)){var e={mobile:this.mobile,captcha:this.captcha};G.loginByCaptcha(e).then(function(){t.$message.success("登录成功"),t.$store.commit("login"),t.$router.push("/index")}).catch(function(e){t.$message.error("登录失败，系统提示："+e)})}else this.$message.error("验证码有误");else this.$message.error("手机号码有误")},LoginByPassword:function(){var t=this;if(this.mobile&&/^((1[3-9][0-9])+\d{8})$/.test(this.mobile))if(this.password){var e={mobile:this.mobile,password:this.password};G.loginByPassword(e).then(function(){t.$message.success("登录成功"),t.$store.commit("login"),t.$router.push("/index")}).catch(function(e){"失败：用户已登录"===e?(t.$message.success("登录成功"),t.$store.commit("login"),t.$router.push("/index")):t.$message.error("登录失败，系统提示："+e)})}else this.$message.error("请输入密码");else this.$message.error("手机号码有误")}},beforeCreate:function(){this.$store.state.hasLogined&&(this.$message.warning("您已登录，请勿重复登录"),this.$router.go(-1))},beforeDestroy:function(){clearInterval(this.timeCountId)}},V={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"login-container"},[n("p",{staticClass:"title",attrs:{title:"回到首页"},on:{click:t.directToIndex}},[t._v("GigaValue")]),t._v(" "),n("p",{staticClass:"slogan"},[t._v(t._s(t.register?"注册":"登录")+"GigaValue，成就一个极佳的你")]),t._v(" "),t.isLoginByCaptcha?n("div",{staticClass:"login-form"},[n("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}}),t._v(" "),n("el-input",{attrs:{placeholder:"请输入验证码"},model:{value:t.captcha,callback:function(e){t.captcha=e},expression:"captcha"}},[n("template",{slot:"append"},[t.waitCaptcha?n("el-button",{staticStyle:{width:"112px"},attrs:{type:"primary",disabled:""}},[t._v("\n            "+t._s(t.timeCount)+" s\n          ")]):n("el-button",{staticStyle:{width:"112px"},attrs:{type:"primary"},on:{click:t.getCaptcha}},[t._v("\n            "+t._s(t.getBtnText)+"\n          ")])],1)],2),t._v(" "),n("div",{staticClass:"action"},[n("span",{staticClass:"change-login-type",on:{click:t.changeLoginType}},[t._v("密码登录")]),t._v(" "),t.register?t._e():n("span",{staticClass:"register",on:{click:t.registerWorker}},[t._v("注册用户")])]),t._v(" "),n("el-button",{staticClass:"login-btn",attrs:{type:"primary"},on:{click:t.LoginByCaptcha}},[t._v("登录")])],1):n("div",{staticClass:"login-form"},[n("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}}),t._v(" "),n("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),n("el-button",{staticClass:"login-btn",attrs:{type:"primary"},on:{click:t.LoginByPassword}},[t._v("登录")])],1)])])},staticRenderFns:[]};var A=n("vSla")(D,V,!1,function(t){n("0n4b")},"data-v-67638e64",null).exports,N=new I,q={data:function(){return{mobile:"",captcha:"",newPassword:"",waitCaptcha:!1,timeCount:60,timeCountId:"",interval:60}},computed:{getBtnText:function(){return this.firstGetCaptcha?"发送验证码":"重新发送"}},methods:{directToIndex:function(){this.$router.push("/index")},getCaptcha:function(){var t=this;if(this.mobile&&/^((1[3-9][0-9])+\d{8})$/.test(this.mobile)){this.waitCaptcha=!0,this.firstGetCaptcha=!1,this.$message("验证码已发送，请注意查收");var e={mobile:this.mobile};N.getCaptcha(e).then(function(e){t.interval=e.data.interval,t.timeCount=t.interval}).catch(function(e){t.$message.error("系统提示："+e)}),this.startTimeCount()}else this.$message.error("手机号码有误")},startTimeCount:function(){var t=this;this.timeCountId=setInterval(function(){if(0===t.timeCount)return clearInterval(t.timeCountId),t.waitCaptcha=!1,void(t.timeCount=t.interval);t.timeCount--},1e3)},returnLogin:function(){this.$store.state.hasLogined?this.$router.go(-1):this.$router.push("/login")},resetPassword:function(){var t=this;if(this.mobile&&/^((1[3-9][0-9])+\d{8})$/.test(this.mobile))if(/\d{6}/.test(this.captcha)){this.newPassword||this.$message.error("请输入新密码");var e={mobile:this.mobile,captcha:this.captcha,new_password:this.newPassword};N.resetPasswordByCaptcha(e).then(function(){t.$store.state.hasLogined?(t.$store.commit("logout"),t.$message.success("修改密码成功，请重新登录")):t.$message.success("修改密码成功"),t.$router.push("/login")}).catch(function(e){t.$message.error("修改密码失败，系统提示："+e)})}else this.$message.error("验证码有误");else this.$message.error("手机号码有误")}},beforeDestroy:function(){clearInterval(this.timeCountId)}},H={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"login-container"},[n("p",{staticClass:"title",attrs:{title:"回到首页"},on:{click:t.directToIndex}},[t._v("GigaValue")]),t._v(" "),n("p",{staticClass:"slogan"},[t._v("加入GigaValue，成就一个极佳的你")]),t._v(" "),n("p",{staticClass:"sub-title"},[t._v("修改密码")]),t._v(" "),n("div",{staticClass:"operate-area"},[n("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}}),t._v(" "),n("el-input",{attrs:{placeholder:"请输入验证码"},model:{value:t.captcha,callback:function(e){t.captcha=e},expression:"captcha"}},[n("template",{slot:"append"},[t.waitCaptcha?n("el-button",{staticStyle:{width:"112px"},attrs:{type:"primary",disabled:""}},[t._v("\n            "+t._s(t.timeCount)+" s\n          ")]):n("el-button",{staticStyle:{width:"112px"},attrs:{type:"primary"},on:{click:t.getCaptcha}},[t._v("\n            "+t._s(t.getBtnText)+"\n          ")])],1)],2),t._v(" "),n("el-input",{attrs:{placeholder:"请输入新密码"},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}}),t._v(" "),n("div",{staticClass:"btn-area"},[n("el-button",{attrs:{type:"primary"},on:{click:t.returnLogin}},[t._v("想起来了")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.resetPassword}},[t._v("修改密码")])],1)],1)])])},staticRenderFns:[]};var W=n("vSla")(q,H,!1,function(t){n("qDpR")},null,null).exports,U=new I,Q={data:function(){return{loading:!0,workerInfo:{uid:"",realname:"",mobile:"",academic:""}}},mounted:function(){var t=this;U.getWorkerInfo().then(function(e){t.workerInfo=e.data,t.loading=!1}).catch(function(e){t.$message.error("系统提示："+e)})}},Y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/index"}}},[t._v("首页")]),t._v(" "),n("el-breadcrumb-item",[t._v("用户详情")])],1),t._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"worker-info-container"},[n("p",{staticClass:"title"},[t._v("用户信息")]),t._v(" "),n("div",{staticClass:"worker-info"},[n("p",{staticClass:"worker-info-item"},[n("span",{staticClass:"info-title"},[t._v("UID：")]),t._v(" "),n("span",{staticClass:"info-text"},[t._v(t._s(t.workerInfo.uid))])]),t._v(" "),n("p",{staticClass:"worker-info-item"},[n("span",{staticClass:"info-title"},[t._v("姓名：")]),t._v(" "),n("span",{staticClass:"info-text"},[t._v(t._s(t.workerInfo.realname))])]),t._v(" "),n("p",{staticClass:"worker-info-item"},[n("span",{staticClass:"info-title"},[t._v("手机：")]),t._v(" "),n("span",{staticClass:"info-text"},[t._v(t._s(t.workerInfo.mobile))])]),t._v(" "),n("p",{staticClass:"worker-info-item"},[n("span",{staticClass:"info-title"},[t._v("学历：")]),t._v(" "),n("span",{staticClass:"info-text"},[t._v(t._s(t.workerInfo.academic))])])])])],1)},staticRenderFns:[]};var z=n("vSla")(Q,Y,!1,function(t){n("ouvH")},"data-v-0f7ea712",null).exports,J=function(t){function e(){return u()(this,e),p()(this,(e.__proto__||c()(e)).apply(this,arguments))}return v()(e,t),f()(e,[{key:"getOfflineTaskList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.get("/worker/project/my",t)}},{key:"getOfflineTaskDetail",value:function(t){var e="/worker/project/"+t;return this.get(e)}},{key:"getTheOfflineTask",value:function(t){var e="/worker/project/"+t+"/arrange";return this.get(e)}},{key:"downloadTaskPackage",value:function(t){var e="/worker/project/"+t+"/download";return this.get(e)}},{key:"commitGetPath",value:function(t,e){var n="/worker/project/"+t+"/commit",a={object_key:e,project_id:t};return this.get(n,a)}},{key:"commitPutFile",value:function(t,e){var n="/put"+t;return this.put(n,e)}},{key:"checkCommit",value:function(t){var e="/worker/project/"+t+"/check_commit",n={project_id:t};return this.get(e,n)}}]),e}(x),K=new J,X={data:function(){return{taskType:"",taskTypeOptions:[{label:"所有",value:1},{label:"数据标注",value:2},{label:"数据采集",value:3}],taskStatus:"",loading:!0,taskItems:[],pageCount:0}},methods:{backToTop:function(){window.scrollTo({top:0,behavior:"smooth"})},getStatusClass:function(t){switch(t){case 1:return"todo";case 100:return"done";default:return"doing"}},getBtnType:function(t){switch(t){case 1:return"primary";case 100:return"info";default:return"success"}},getBtnText:function(t){switch(t){case 1:return"领取任务";case 100:return"任务详情";default:return"提交审核"}},handleClick:function(t){this.$router.push("/offlineTask/"+t)},downloadTaskPackage:function(t){var e=this,n="";K.downloadTaskPackage(t).then(function(t){n=t.data.content[0].src;var e=document.createElement("a");"download"in e?(e.href=n,e.download=!0,document.body.appendChild(e),e.click(),document.body.removeChild(e)):window.open(n,"_blank")}).catch(function(t){e.$message.error("系统提示："+t)})},searchTask:function(){this.$message("该功能尚未完成，敬请期待")},reset:function(){this.taskType="",this.taskStatus="",this.getTaskList()},handleCurrentChange:function(t){this.getTaskList(t)},getTaskList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0;var n={page:e};K.getOfflineTaskList(n).then(function(e){t.taskItems=e.data.content,t.pageCount=e.data.page_info.total_page,t.loading=!1,window.scrollTo(0,0)}).catch(function(e){t.$message.error("系统提示："+e)})}},filters:{formatStatus:function(t){switch(t){case 1:return"可领取";case 30:return"提交中";case 3:return"已提交";case 4:return"质检成功";case 5:return"质检失败";case 100:return"已完成";default:return"进行中"}},formatMoney:function(t){return t/1e3},formatTime:function(t){return t.substring(0,10)}},mounted:function(){this.getTaskList()}},Z={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("i",{staticClass:"el-icon-back back-to-top",attrs:{title:"回到顶部"},on:{click:t.backToTop}}),t._v(" "),n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/index"}}},[t._v("首页")]),t._v(" "),n("el-breadcrumb-item",[t._v("离线任务")])],1),t._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"task-list"},t._l(t.taskItems,function(e){return n("div",{key:e.pid,staticClass:"task-item"},[n("div",{staticClass:"task-status",class:t.getStatusClass(e.status_code)},[n("span",{staticClass:"task-status-text",class:t.getStatusClass(e.status_code)},[t._v("\n          "+t._s(t._f("formatStatus")(e.status_code))+"\n        ")])]),t._v(" "),n("p",{staticClass:"task-name"},[t._v(t._s(e.name))]),t._v(" "),n("p",{staticClass:"task-description"},[t._v("任务描述："+t._s(e.description))]),t._v(" "),n("div",{staticClass:"item-footer"},[n("p",[t._v("任务类型：离线任务")]),t._v(" "),n("p",[t._v("奖励金额：￥ "+t._s(t._f("formatMoney")(e.reward_money)))]),t._v(" "),n("p",[t._v("截止日期："+t._s(t._f("formatTime")(e.ctime)))]),t._v(" "),n("div",{staticClass:"btn-area"},[n("el-button",{attrs:{type:t.getBtnType(e.status_code)},on:{click:function(n){t.downloadTaskPackage(e.pid)}}},[t._v("\n            下载任务包\n          ")]),t._v(" "),n("el-button",{attrs:{type:t.getBtnType(e.status_code)},on:{click:function(n){t.handleClick(e.pid)}}},[t._v("\n            "+t._s(t.getBtnText(e.status_code))+"\n          ")])],1)])])})),t._v(" "),n("el-pagination",{attrs:{layout:"prev, pager, next","page-count":t.pageCount},on:{"current-change":t.handleCurrentChange}})],1)},staticRenderFns:[]};var tt=n("vSla")(X,Z,!1,function(t){n("2Fq+")},"data-v-01a77c00",null).exports,et=new J,nt={data:function(){return{loading:!0,pid:"",name:"",description:"",model_name:"",rewardMoney:"",ctime:"",status_code:"",fileName:"",wait:!1,disabled:!1}},computed:{getBreadCrumbText:function(){switch(this.status_code){case 1:return"领取任务";case 100:return"任务详情";default:return"提交审核"}},hasCommitted:function(){return!![3,4,5].includes(this.status_code)},getBtnText:function(){if(this.disabled)return"操作成功";switch(this.status_code){case 1:return"确认领取";default:return"提交审核"}},getIcon:function(){return this.disabled?"el-icon-check":""}},methods:{backToOfflineTask:function(){this.$router.go(-1)},downloadTaskPackage:function(){var t=this,e=this.$route.params.projectID,n="";et.downloadTaskPackage(e).then(function(t){n=t.data.content[0].src;var e=document.createElement("a");"download"in e?(e.href=n,e.download=!0,document.body.appendChild(e),e.click(),document.body.removeChild(e)):window.open(n,"_blank")}).catch(function(e){t.$message.error("系统提示："+e)})},getTheOfflineTask:function(){var t=this;this.wait=!0;var e=this.$route.params.projectID;et.getTheOfflineTask(e).then(function(){t.$message.success("领取任务成功"),t.wait=!1,t.disabled=!0}).catch(function(e){t.$message.error("领取任务失败，系统提示："+e),t.wait=!1})},commitOfflineTask:function(){var t=this;if(""!==this.fileName)if(""!==this.$refs.fileInput.value){this.wait=!0;var e=this.$route.params.projectID,n="";et.commitGetPath(e,this.fileName).then(function(e){var a=e.data.content[0].src,s=a.indexOf("com")+3;return n=a.substring(s),t.$refs.fileInput.files[0]}).then(function(t){return et.commitPutFile(n,t)}).then(function(){return et.checkCommit(e)}).then(function(){t.$message.success("提交成功");var e=t.$route.params.projectID;return t.loading=!0,et.getOfflineTaskDetail(e)}).then(function(e){t.pid=e.data.content[0].pid,t.name=e.data.content[0].name,t.description=e.data.content[0].description,t.rewardMoney=e.data.content[0].reward_money,t.ctime=e.data.content[0].ctime,t.status_code=e.data.content[0].status_code,t.loading=!1,t.wait=!1}).catch(function(e){t.$message.error("提交失败，系统提示："+e),t.wait=!1})}else this.$message.error("请选择上传的文件");else this.$message.error("文件名有误")}},filters:{formatMoney:function(t){return t/1e3},formatTime:function(t){return t.substring(0,10)},formatStatus:function(t){switch(t){case 1:return"可领取";case 30:return"提交中";case 3:return"已提交";case 4:return"质检成功";case 5:return"质检失败";case 100:return"已完成";default:return"进行中"}}},mounted:function(){var t=this,e=this.$route.params.projectID;et.getOfflineTaskDetail(e).then(function(e){t.pid=e.data.content[0].pid,t.name=e.data.content[0].name,t.description=e.data.content[0].description,t.rewardMoney=e.data.content[0].reward_money,t.ctime=e.data.content[0].ctime,t.status_code=e.data.content[0].status_code,t.loading=!1}).catch(function(e){t.$message.error("系统提示："+e)})}},at={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/index"}}},[t._v("首页")]),t._v(" "),n("el-breadcrumb-item",{attrs:{to:{path:"/offlineTask"}}},[t._v("离线任务")]),t._v(" "),n("el-breadcrumb-item",[t._v(t._s(t.getBreadCrumbText))])],1),t._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"info-container"},[n("div",{staticClass:"title"},[n("el-button",{staticClass:"back",attrs:{type:"text",title:"返回上一级",icon:"el-icon-arrow-left"},on:{click:t.backToOfflineTask}}),t._v(" "),n("span",{staticClass:"title-content"},[t._v("任务详情")])],1),t._v(" "),n("div",{staticClass:"task-info"},[n("p",{staticClass:"info-item"},[n("span",{staticClass:"info-title"},[t._v("\n          任务编号：\n        ")]),t._v(" "),n("span",{staticClass:"info-content"},[t._v("\n          "+t._s(t.pid)+"\n        ")])]),t._v(" "),n("p",{staticClass:"info-item"},[n("span",{staticClass:"info-title"},[t._v("\n          任务名称：\n        ")]),t._v(" "),n("span",{staticClass:"info-content"},[t._v("\n          "+t._s(t.name)+"\n        ")])]),t._v(" "),n("p",{staticClass:"info-item"},[n("span",{staticClass:"info-title"},[t._v("\n          任务描述：\n        ")]),t._v(" "),n("span",{staticClass:"info-content"},[t._v("\n          "+t._s(t.description)+"\n        ")])]),t._v(" "),t._m(0),t._v(" "),n("p",{staticClass:"info-item"},[n("span",{staticClass:"info-title"},[t._v("\n          奖励金额：\n        ")]),t._v(" "),n("span",{staticClass:"info-content"},[t._v("\n          ￥ "+t._s(t._f("formatMoney")(t.rewardMoney))+"\n        ")])]),t._v(" "),n("p",{staticClass:"info-item"},[n("span",{staticClass:"info-title"},[t._v("\n          截止时间：\n        ")]),t._v(" "),n("span",{staticClass:"info-content"},[t._v("\n          "+t._s(t._f("formatTime")(t.ctime))+"\n        ")])]),t._v(" "),n("p",{staticClass:"info-item"},[n("span",{staticClass:"info-title"},[t._v("\n          任务状态：\n        ")]),t._v(" "),n("span",{staticClass:"info-content"},[t._v("\n          "+t._s(t._f("formatStatus")(t.status_code))+"\n        ")])])]),t._v(" "),1===t.status_code?n("div",{staticClass:"get-task"},[n("el-button",{attrs:{type:"primary"},on:{click:t.downloadTaskPackage}},[t._v("\n        下载任务包\n      ")]),t._v(" "),n("el-button",{attrs:{type:"primary",loading:t.wait,disabled:t.disabled,icon:t.getIcon},on:{click:t.getTheOfflineTask}},[t._v("\n        "+t._s(t.getBtnText)+"\n      ")])],1):100===t.status_code?n("div",[n("p",{staticClass:"thanks-word"},[t._v("您已完成此任务，感谢您的参与！！！")])]):n("div",{staticClass:"commit-task"},[t.hasCommitted?n("el-alert",{attrs:{title:"您已提交，再次提交将覆盖之前的提交结果",type:"warning",closable:!1}}):t._e(),t._v(" "),n("div",{staticClass:"commit-input-area"},[n("el-input",{staticClass:"text-input",attrs:{placeholder:"请输入文件名"},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}}),t._v(" "),n("input",{ref:"fileInput",staticClass:"file-input",attrs:{type:"file"}})],1),t._v(" "),n("el-button",{attrs:{type:"success",plain:""},on:{click:t.downloadTaskPackage}},[t._v("\n        下载任务包\n      ")]),t._v(" "),n("el-button",{attrs:{type:"success",loading:t.wait,disabled:t.disabled,icon:t.getIcon},on:{click:t.commitOfflineTask}},[t._v("\n        "+t._s(t.getBtnText)+"\n      ")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"info-item"},[e("span",{staticClass:"info-title"},[this._v("\n          任务类型：\n        ")]),this._v(" "),e("span",{staticClass:"info-content"},[this._v("\n          离线任务\n        ")])])}]};var st=n("vSla")(nt,at,!1,function(t){n("0UoQ")},"data-v-71a43bd5",null).exports;a.default.use(o.a);var it=new o.a({routes:[{path:"/",name:"layout",component:R,redirect:"/index",children:[{path:"/index",name:"index",component:M},{path:"/login",name:"login",component:A},{path:"/resetPassword",name:"resetPassword",component:W},{path:"/workerInfo",name:"workerInfo",component:z},{path:"/offlineTask",name:"offlineTask",component:tt},{path:"/offlineTask/:projectID",name:"handleOfflineTask",component:st}]}]}),ot=n("9rMa"),rt=n("Axgm"),ct=n.n(rt);n("dRIH");a.default.config.productionTip=!1,a.default.use(ot.a),a.default.use(ct.a);var lt=new ot.a.Store({state:{hasLogined:!1},mutations:{login:function(t){t.hasLogined=!0},logout:function(t){t.hasLogined=!1}}}),ut=["/index","/login","/resetPassword"];it.beforeEach(function(t,e,n){ut.includes(t.path)?n():lt.state.hasLogined?n():(it.app.$message("请先登录"),n("/login"))}),new a.default({el:"#app",router:it,store:lt,components:{App:i},template:"<App/>"})},VFWQ:function(t,e){},YOTn:function(t,e){},dRIH:function(t,e){},g0FG:function(t,e,n){t.exports=n.p+"static/img/police.d0289dc.png"},lRIm:function(t,e){},ouvH:function(t,e){},qDpR:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.4b78cb4bc3c9e7f95b67.js.map